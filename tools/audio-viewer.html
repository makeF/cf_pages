<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <title>m4a 预览器</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
    <!-- 下拉提示框 -->
    <!-- <script src="https://cdn.staticfile.org/popper.js/1.15.0/umd/popper.min.js"></script> -->
    <script src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <!-- Aplayer -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aplayer/1.10.1/APlayer.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aplayer/1.10.1/APlayer.min.js"></script> -->
    
</head>

<body class="container">
    <div id="nav"></div>
    <div class="row" style="margin-top:20%;">
        <!-- 左半页 -->
        <div class="col-md-6">
            <audio id="ap" controls src=""></audio>
        </div>
        <!-- 右半页 -->
        <div class="col-md-6">

            <form>
                <!-- 音乐地址 -->
                <div class="input-group mt-3 mb-3">
                    <input id="url" type="text" class="form-control" placeholder="音乐地址">
                    <div class="input-group-prepend">
                        <button type="button" class="btn btn-outline-secondary " onclick="setSrc()">设置地址</button>
                    </div>
                </div>
                <hr/>

                <!-- 播放时间 -->
                <div class="input-group mt-3 mb-3">
                    <input id="curtime" type="text" class="form-control" placeholder="播放时间">
                    <div class="input-group-prepend">
                        <button type="button" class="btn btn-outline-secondary " onclick="getTime()">现在时间</button>
                        <button type="button" class="btn btn-outline-secondary " onclick="setTime(1,1)">设置时间</button>
                    </div>
                </div>
                <hr style="border: transparent;" />

                <!-- 快进按钮组 -->
                <div class="btn-group">
                    <button type="button" class="btn btn-outline-secondary" onclick="setTime(-30)"> < 30 </button>
                    <button type="button" class="btn btn-outline-secondary" onclick="setTime(-5)"> < 5 </button>
                    <button type="button" class="btn btn-outline-secondary" onclick="setTime(-1)"> < 1 </button>
                        <button type="button" class="btn btn-outline-secondary" onclick="setTime(-0.1)"> < 0.1 </button></>
                  </div>
                  <div class="btn-group" style="float: right">
                    <button type="button" class="btn btn-outline-secondary" onclick="setTime(0.1)"> 0.1 > </button>
                    <button type="button" class="btn btn-outline-secondary" onclick="setTime(1)"> 1> </button>
                    <button type="button" class="btn btn-outline-secondary" onclick="setTime(5)"> 5> </button>
                    <button type="button" class="btn btn-outline-secondary" onclick="setTime(30)"> 30 > </button>
                  </div>
                
            </form>

        </div>
    </div>
</body>

<script>
    //加载导航
    $("#nav").load("/master.html");
    
    //获得时间
    function getTime() {
        var ap = document.getElementById('ap');
        var curtime = document.getElementById('curtime');
        curtime.value = ap.currentTime;
    }

    //设置地址
    function setSrc() {
        var urlstr = document.getElementById('url').value;
        var ap = document.getElementById('ap');
        ap.src = urlstr;
        ap.play();
    }

    //设置时间
    function setTime(time,ctl) {
        var ap = document.getElementById('ap');
        var curtime = document.getElementById('curtime');
        if(ctl != 1){
            ap.currentTime += time;
            curtime.value = ap.currentTime;
        }
        else{
            ap.currentTime = curtime.value;
        }
        ap.play();
    }
</script>
</html>